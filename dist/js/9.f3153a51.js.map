{"version":3,"file":"js/9.f3153a51.js","mappings":"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","sources":["webpack://hw6/./src/views/ProductView.vue","webpack://hw6/./src/components/ProductModal.vue","webpack://hw6/./src/components/ProductModal.vue?b0ff","webpack://hw6/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>This is 產品列表</h1>\r\n    <table class=\"table align-middle\">\r\n      <thead>\r\n        <tr>\r\n          <th>圖片</th>\r\n          <th>商品名稱</th>\r\n          <th>價格</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"product in products\" :key=\"product.id\">\r\n          <td style=\"width: 200px\">\r\n            <div :style=\"{ backgroundImage: `url(${product.imageUrl})` }\" style=\"height: 100px; background-size: cover; background-position: center;\"></div>\r\n          </td>\r\n          <td>{{ product.title }}</td>\r\n          <td>\r\n            <div class=\"h5\" v-if=\"product.price === product.origin_price\">{{ product.price }} 元</div>\r\n            <div v-else>\r\n              <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\r\n              <div class=\"h5\">現在只要 {{ product.price }} 元</div>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group btn-group-sm\">\r\n              <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"openProductModal(product.id)\" :disabled=\"isLoadingID === product.id\">\r\n                <i class=\"fas fa-spinner fa-pulse\" v-show=\"isLoadingID === product.id\"></i>查看更多\r\n              </button>\r\n              <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"addToCart(product.id)\" :disabled=\"isLoadingID === product.id\">\r\n                <i class=\"fas fa-spinner fa-pulse\" v-show=\"isLoadingID === product.id\" ></i >加到購物車\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <ProductModal ref=\"productModal\" :product=\"product\" @add-cart=\"addToCart\"></ProductModal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ProductModal from '@/components/ProductModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {}\r\n    }\r\n  },\r\n  components: {\r\n    ProductModal\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\r\n      ).then((res) => {\r\n        this.products = res.data.products\r\n      })\r\n    },\r\n    openProductModal (id) {\r\n      // this.productID = id\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`)\r\n        .then((res) => {\r\n          // console.dir(res.data);\r\n          this.product = res.data.product\r\n        })\r\n      this.$refs.productModal.openModal()\r\n    },\r\n    addToCart (id, qty = 1) {\r\n      const data = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.isLoadingID = id\r\n      this.$http.post(process.env.VUE_APP_API + '/api/' + process.env.VUE_APP_PATH + '/cart', { data })\r\n        .then((res) => {\r\n          // this.getCarts()\r\n          this.isLoadingID = ''\r\n          this.$refs.productModal.closeModal()\r\n          alert(res.data.message)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\"> <span>{{ product.title }}</span></h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-6\">\r\n              <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"\">\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <span class=\"badge bg-primary rounded-pill\">{{ product.category }}</span>\r\n              <p>商品描述：{{ product.description }}</p>\r\n              <p>商品內容：{{ product.content }}</p>\r\n              <div class=\"h5\" v-if=\"product.price === product.origin_price\">{{ product.price }} 元</div>\r\n              <div v-else>\r\n                <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\r\n                <div class=\"h5\">現在只要 {{ product.price }} 元</div>\r\n              </div>\r\n              <div class=\"input-group\">\r\n                <input type=\"number\" class=\"form-control\" min=\"1\" v-model.number=\"qty\">\r\n                <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('add-cart', product.id, qty)\">加入購物車</button>\r\n              </div>\r\n            </div>\r\n            <!-- col-sm-6 end -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: {\r\n    product: {}\r\n  },\r\n  data () {\r\n    return {\r\n      productModal: {},\r\n      qty: 1\r\n    }\r\n  },\r\n  methods: {\r\n    openModal () {\r\n      this.productModal.show()\r\n    },\r\n    closeModal () {\r\n      this.productModal.hide()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.productModal = new Modal(this.$refs.modal, {\r\n      keyboard: false,\r\n      backdrop: 'static'\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=ff3b5e4c\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Self-Study\\\\2022_VueJs\\\\Homework\\\\Project\\\\vueproj_hw6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductView.vue?vue&type=template&id=adcf02ec\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Self-Study\\\\2022_VueJs\\\\Homework\\\\Project\\\\vueproj_hw6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_2","_hoisted_4","_Fragment","_renderList","$data","product","key","id","backgroundImage","imageUrl","_toDisplayString","title","price","origin_price","_hoisted_7","type","onClick","$options","disabled","_ctx","_createVNode","_component_ProductModal","ref","onAddCart","tabindex","role","$props","_hoisted_6","src","alt","category","description","content","_hoisted_14","min","$event","props","data","productModal","qty","methods","openModal","this","show","closeModal","hide","mounted","Modal","$refs","modal","keyboard","backdrop","__exports__","products","components","ProductModal","getProducts","$http","get","then","res","openProductModal","addToCart","product_id","isLoadingID","post","process","alert","message","render"],"sourceRoot":""}