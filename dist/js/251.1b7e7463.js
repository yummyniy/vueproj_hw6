"use strict";(self["webpackChunkhw6"]=self["webpackChunkhw6"]||[]).push([[251],{3251:function(e,a,s){s.r(a),s.d(a,{default:function(){return b}});var t=s(3396),n=s(9242);const c={class:"navbar navbar-expand-lg navbar-dark bg-dark"},o={class:"container-fluid"},i={class:"collapse navbar-collapse",id:"navbarSupportedContent"},l={class:"navbar-nav me-auto mb-2 mb-lg-0"},r={class:"nav-item"},u=(0,t.Uk)("前台首頁"),h={class:"nav-item"},k=(0,t.Uk)("產品列表"),d={class:"nav-item"},v=(0,t.Uk)("訂單"),p={class:"nav-item"};function m(e,a,s,m,g,f){const _=(0,t.up)("router-link"),b=(0,t.up)("router-view");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("nav",c,[(0,t._)("div",o,[(0,t._)("div",i,[(0,t._)("ul",l,[(0,t._)("li",r,[(0,t.Wm)(_,{class:"nav-link",to:"/"},{default:(0,t.w5)((()=>[u])),_:1})]),(0,t._)("li",h,[(0,t.Wm)(_,{class:"nav-link",to:"/admin/product"},{default:(0,t.w5)((()=>[k])),_:1})]),(0,t._)("li",d,[(0,t.Wm)(_,{class:"nav-link",to:"/admin/order"},{default:(0,t.w5)((()=>[v])),_:1})]),(0,t._)("li",p,[(0,t._)("a",{href:"#",class:"nav-link",onClick:a[0]||(a[0]=(0,n.iM)(((...a)=>e.signout&&e.signout(...a)),["prevent"]))},"登出")])])])])]),g.checkSuccess?((0,t.wg)(),(0,t.j4)(b,{key:0})):(0,t.kq)("",!0)],64)}var g={data(){return{checkSuccess:!1}},methods:{checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");e?(this.$http.defaults.headers.common.Authorization=e,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((e=>{this.checkSuccess=!0})).catch((e=>{alert(e.data.message),this.$router.push("/login")}))):(alert("您尚未登入。"),this.$router.push("/login"))},logout(){document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}},mounted(){this.checkLogin()}},f=s(89);const _=(0,f.Z)(g,[["render",m]]);var b=_}}]);
//# sourceMappingURL=251.1b7e7463.js.map