"use strict";(self["webpackChunkhw6"]=self["webpackChunkhw6"]||[]).push([[922],{4922:function(t,e,a){a.r(e),a.d(e,{default:function(){return Z}});var i=a(3396),s=a(7139);const n=(0,i._)("h2",null,"後台產品列表",-1),o={class:"container"},l={class:"text-end mt-4"},d={class:"table mt-4"},r=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{width:"120"},"分類"),(0,i._)("th",null,"產品名稱"),(0,i._)("th",{width:"120"},"原價"),(0,i._)("th",{width:"120"},"售價"),(0,i._)("th",{width:"100"},"是否啟用"),(0,i._)("th",{width:"120"},"編輯")])],-1),p={width:"120"},c={width:"120"},u={width:"120"},h={width:"100"},g={key:0,class:"text-success"},_={key:1},w={width:"120"},m={class:"btn-group"},b=["onClick"],k=["onClick"];function v(t,e,a,v,C,P){const f=(0,i.up)("PaginationComp");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n,(0,i._)("div",o,[(0,i._)("div",l,[(0,i._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=t=>P.showModal("new"))}," 建立新的產品 ")]),(0,i._)("table",d,[r,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(C.products,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.id},[(0,i._)("td",p,(0,s.zw)(t.category),1),(0,i._)("td",null,(0,s.zw)(t.title),1),(0,i._)("td",c,(0,s.zw)(t.origin_price),1),(0,i._)("td",u,(0,s.zw)(t.price),1),(0,i._)("td",h,[t.is_enabled?((0,i.wg)(),(0,i.iD)("span",g,"啟用")):((0,i.wg)(),(0,i.iD)("span",_,"未啟用"))]),(0,i._)("td",w,[(0,i._)("div",m,[(0,i._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:e=>P.showModal("edit",t)},"編輯",8,b),(0,i._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:e=>P.showModal("delete",t)},"刪除",8,k)])])])))),128))])]),(0,i.Wm)(f,{pages:C.pagination,onGetProducts:P.getProducts},null,8,["pages","onGetProducts"])])],64)}var C=a(9242);const P={"aria-label":"Page navigation example"},f={class:"pagination"},M=(0,i._)("span",{"aria-hidden":"true"},"«",-1),y=[M],D=["onClick"],$=(0,i._)("span",{"aria-hidden":"true"},"»",-1),x=[$];function z(t,e,a,n,o,l){return(0,i.wg)(),(0,i.iD)("nav",P,[(0,i._)("ul",f,[(0,i._)("li",{class:(0,s.C_)(["page-item",{disabled:!a.pages.has_pre}])},[(0,i._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,C.iM)((e=>t.$emit("get-products",a.pages.current_page-1)),["prevent"]))},y)],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pages.total_pages,(e=>((0,i.wg)(),(0,i.iD)("li",{key:"page"+e,class:(0,s.C_)(["page-item",{active:e===a.pages.current_page}])},[(0,i._)("a",{class:"page-link",href:"#",onClick:(0,C.iM)((a=>t.$emit("get-products",e)),["prevent"])},(0,s.zw)(e),9,D)],2)))),128)),(0,i._)("li",{class:(0,s.C_)(["page-item",{disabled:!a.pages.has_next}])},[(0,i._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,C.iM)((e=>t.$emit("get-products",a.pages.current_page+1)),["prevent"]))},x)],2)])])}var N={props:["pages"],methods:{emitPages(t){this.$emit("emit-pages",t)}}},H=a(89);const Y=(0,H.Z)(N,[["render",z]]);var G=Y,K={data(){return{products:[],tempProduct:{imagesUrl:[]},isNew:!1,pagination:{}}},components:{PaginationComp:G},methods:{getProducts(t=1){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/testpp/admin/products/?page="+t).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination})).catch((t=>{console.dir(t)}))},showModal(t,e){"new"===t?(this.isNew=!0,this.tempProduct={imagesUrl:[]},this.$refs.addProductModal.openModal()):"edit"===t?(this.isNew=!1,this.tempProduct={...e},this.$refs.addProductModal.openModal()):"delete"===t&&(this.tempProduct={...e})}},mounted(){this.getProducts()}};const U=(0,H.Z)(K,[["render",v]]);var Z=U}}]);
//# sourceMappingURL=922.1f525881.js.map