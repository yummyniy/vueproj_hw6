"use strict";(self["webpackChunkhw6"]=self["webpackChunkhw6"]||[]).push([[680],{4680:function(e,a,t){t.r(a),t.d(a,{default:function(){return b}});var s=t(3396),n=t(9242);const c={class:"navbar navbar-expand-lg navbar-dark bg-dark"},o={class:"container-fluid"},l={class:"collapse navbar-collapse",id:"navbarSupportedContent"},i={class:"navbar-nav me-auto mb-2 mb-lg-0"},r={class:"nav-item"},u=(0,s.Uk)("前台首頁"),h={class:"nav-item"},k=(0,s.Uk)("產品列表"),d={class:"nav-item"},v=(0,s.Uk)("訂單"),p={class:"nav-item"};function m(e,a,t,m,g,f){const _=(0,s.up)("router-link"),b=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",c,[(0,s._)("div",o,[(0,s._)("div",l,[(0,s._)("ul",i,[(0,s._)("li",r,[(0,s.Wm)(_,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[u])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(_,{class:"nav-link",to:"/admin/product"},{default:(0,s.w5)((()=>[k])),_:1})]),(0,s._)("li",d,[(0,s.Wm)(_,{class:"nav-link",to:"/admin/order"},{default:(0,s.w5)((()=>[v])),_:1})]),(0,s._)("li",p,[(0,s._)("a",{href:"#",class:"nav-link",onClick:a[0]||(a[0]=(0,n.iM)(((...e)=>f.logout&&f.logout(...e)),["prevent"]))},"登出")])])])])]),g.checkSuccess?((0,s.wg)(),(0,s.j4)(b,{key:0})):(0,s.kq)("",!0)],64)}var g={data(){return{checkSuccess:!1}},methods:{checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");e?(this.$http.defaults.headers.common.Authorization=e,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((e=>{this.checkSuccess=!0})).catch((e=>{alert(e.data.message),this.$router.push("/login")}))):(alert("您尚未登入。"),this.$router.push("/login"))},logout(){document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}},mounted(){this.checkLogin()}},f=t(89);const _=(0,f.Z)(g,[["render",m]]);var b=_}}]);
//# sourceMappingURL=680.94bc3b83.js.map